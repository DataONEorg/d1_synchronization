<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : services.xml
    Created on : June 4, 2010, 1:58 AM
    Author     : rwaltz
    Description:
        Purpose of the document follows.
-->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
    <!-- <constructor-arg type="java.lang.String" value="/home/rwaltz/Documents/CNService/MetacatExamples/ORNL/"/> -->
    <!--
    <bean id="sampleDirectory" class="java.lang.String" >
        
        <constructor-arg type="java.lang.String" value="/var/mercury/mercury_inst/datanet/daacpackage/"/>
    </bean>
    -->
    <!--
    <bean id="samples" class="java.util.HashMap">
        <constructor-arg>
            <map>
                <entry key="BAYXXX_015ADCP015R00_2005121.xml"><value>BAYXXX_015ADCP_1_META0.xml</value></entry>
                <entry key="knb-lter-gce.xml"><value>knb-lter-gce_META0.xml</value></entry>
                <entry key="nceas.xml"><value>nceas_META0.xml</value></entry>
                <entry key="ornldaac_221.xml"><value>ornldaac_221_meta.xml</value></entry>
                <entry key="ornldaac_420.xml"><value>ornldaac_420_meta.xml</value></entry>
                <entry key="ornldaac_423.xml"><value>ornldaac_423_meta.xml</value></entry>
                <entry key="ornldaac_540.xml"><value>ornldaac_540_meta.xml</value></entry>
                <entry key="ornldaac_547.xml"><value>ornldaac_547_meta.xml</value></entry>
                <entry key="ornldaac_625.xml"><value>ornldaac_625_meta.xml</value></entry>
                <entry key="ornldaac_640.xml"><value>ornldaac_640_meta.xml</value></entry>
                <entry key="ornldaac_645.xml"><value>ornldaac_645_meta.xml</value></entry>
                <entry key="ornldaac_705.xml"><value>ornldaac_705_meta.xml</value></entry>
                <entry key="ornldaac_749.xml"><value>ornldaac_749_meta.xml</value></entry>
                <entry key="ornldaac_781.xml"><value>ornldaac_781_meta.xml</value></entry>
                <entry key="ornldaac_787.xml"><value>ornldaac_787_meta.xml</value></entry>
                <entry key="ornldaac_820.xml"><value>ornldaac_820_meta.xml</value></entry>
                <entry key="ornldaac_868.xml"><value>ornldaac_868_meta.xml</value></entry>
            </map>
        </constructor-arg>
    </bean>
    -->
 <!--       <property name="writeDirectory" value="/home/rwaltz/Documents/CNService/MetacatExamples/ORNL/harvested/"/> -->
    <!--
    <bean id="devPopulation" class="org.dataone.cn.batch.packager.DevPopulation">
        <property name="d1" ref="cnClient" />
        <property name="writeDirectory" value="/var/mercury/mercury_inst/datanet/daacpackage/harvested/"/>
        <property name="readDirectory" ref="sampleDirectory"/>
    </bean>
    -->
    <bean id="biBimBob" class="org.dataone.cn.jjigae.BiBimBob" />

    <bean id="packageObjectDirectory" class="java.lang.String" >
        <constructor-arg type="java.lang.String" value="/var/mercury/mercury_inst/datanet/DataONESamples/object/"/>
    </bean>
    <bean id="packageMetadataDirectory" class="java.lang.String" >
        <constructor-arg type="java.lang.String" value="/var/mercury/mercury_inst/datanet/DataONESamples/meta/"/>
    </bean>
    <bean id="packageHarvestDirectory" class="java.lang.String" >
        <constructor-arg type="java.lang.String" value="/var/mercury/mercury_inst/datanet/DataONESamples/harvested/"/>
    </bean>

    <bean id="cnClient" class="org.dataone.client.D1Client">
        <property name="contextRootUrl" value="http://localhost/knb/" />
    </bean>

    <bean id="mnClient" class="org.dataone.client.D1Client">
        <property name="contextRootUrl" value="http://localhost/mn/" />
    </bean>

    <bean id="cnToken"  class="org.dataone.service.types.AuthToken" />

    <bean id="publicToken"  class="org.dataone.service.types.AuthToken">
        <constructor-arg type="java.lang.String" value="public"/>
    </bean>
    
    <bean id="harvestQueue"  class="java.util.ArrayList" />

    <bean id="packagerQueue"  class="java.util.HashMap" />

    <bean id="devObjectListQueue" class="org.dataone.cn.batch.proto.harvester.ObjectListQueueBuilder">
        <property name="writeQueue" ref="harvestQueue"/>
        <property name="mnReader" ref="mnClient"/>
        <property name="token" ref="publicToken" />
    </bean>

    <bean id="devHarvester" class="org.dataone.cn.batch.proto.harvester.MetadataQueueBuilder">
        <property name="mnReader" ref="mnClient" />
        <property name="cnWriter" ref="cnClient" />
        <property name="readQueue" ref="harvestQueue"/>
        <property name="writeObjectDirectory" ref="packageObjectDirectory" />
        <property name="writeMetadataDirectory" ref="packageMetadataDirectory" />
        <property name="writeQueue" ref="packagerQueue"/>
        <property name="token" ref="cnToken" />
    </bean>

    <bean id="devPackager" class="org.dataone.cn.batch.proto.packager.MetadataPackageBuilder">
        <property name="readQueue" ref="packagerQueue" />
        <property name="writeDirectory" ref="packageHarvestDirectory"/>
        <property name="readObjectDirectory" ref="packageObjectDirectory"/>
        <property name="readMetadataDirectory" ref="packageMetadataDirectory"/>
    </bean>

</beans>
