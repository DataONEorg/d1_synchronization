<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : metadataPackagerService.xml
    Created on : July 23, 2010, 4:57 PM
    Author     : rwaltz
    Description:
        Purpose of the document follows.
-->


<beans default-init-method="init" xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">


   <bean id="metadataPackageAccess" class="org.dataone.cn.batch.utils.MetadataPackageAccess">
        <property name="logFilePersistAccessDataPath" value="${synchronize.logFilePersistAccessDataPath}"/>
        <property name="logFilePersistAccessDataName" value="${synchronize.logFilePersistAccessDataName}" />
        <property name="logFilePersistPendingDataPath" value="${synchronize.logFilePersistPendingDataPath}"/>
        <property name="logFilePersistPendingDataName" value="${synchronize.logFilePersistPendingDataName}" />
   </bean>

    <bean id="eventLogReader" class="org.dataone.cn.batch.proto.packager.EventLogReader">
        <property name="eventLogFileName" value="${synchronize.metacatEventLogFileName}" />
        <property name="eventLogFilePath" value="${synchronize.metacatEventLogFileDirectory}"/>
        <property name="metadataPackageAccess" ref="metadataPackageAccess" />
    </bean>

    <bean id="metadataPackagerWriter" class="org.dataone.cn.batch.proto.packager.MetadataPackageWriter">
        <property name="readMetacatDirectory" value="${synchronize.metacatDocumentDirectory}" />
        <property name="nodeReferenceUtility" ref="mnNodeReferenceUtility" />
        <property name="writeDirectory" value="${synchronize.mercuryDatanetDirectory}" />
        <property name="scienceMetadataFormatPathMap" ref="scienceMetadataFormatPathMap"/>
        <property name="metadataPackageAccess" ref="metadataPackageAccess" />
    </bean>

</beans>
